/**
 * Frontend styles for Interactive Accordion
 * Bootstrap 5-compliant three-state animation pattern
 */

.wp-block-fs-blocks-accordion-interactive {
	.fs-accordion__item {
		border-bottom: 1px solid #ddd;

		&:last-child {
			border-bottom: none;
		}
	}

	.fs-accordion__trigger {
		width: 100%;
		padding: 1rem;
		background: #fff;
		border: none;
		text-align: left;
		cursor: pointer;
		font-size: 1rem;
		font-weight: 600;
		display: flex;
		justify-content: space-between;
		align-items: center;
		transition: background 0.15s ease-in-out; // Bootstrap standard for UI interactions

		&::after {
			content: "â–¼";
			font-size: 0.75rem;
			transition: transform 0.15s ease-in-out;
		}

		&:hover {
			background: #f5f5f5;
		}

		&:focus-visible {
			outline: 2px solid #0073aa;
			outline-offset: -2px;
		}
	}

	.fs-accordion__item.is-active .fs-accordion__trigger::after {
		transform: rotate(180deg);
	}

	// STATE 1: Collapsed (default) - only apply when NOT active
	.fs-accordion__item:not(.is-active) .fs-accordion__content {
		height: 0;
		opacity: 0;
		padding: 0; // No padding on collapsing element (Bootstrap pattern)
		overflow: hidden;
	}

	// Padding on inner content (gets clipped when height: 0)
	.fs-accordion__content > * {
		padding: 1rem;
	}

	// STATE 3: Expanded (explicitly set for active items)
	// Use CSS variables for inline style override to prevent FOUC
	.fs-accordion__item.is-active .fs-accordion__content {
		height: var(--accordion-content-height, auto);
		opacity: var(--accordion-content-opacity, 1);
		overflow: visible;
		// Padding is on inner content via > * selector above
	}

	// STATE 2: Actively transitioning (Bootstrap three-state pattern)
	// Transition ONLY applied when .is-collapsing class is present
	// This prevents animation on page load for items that start active
	.fs-accordion__content.is-collapsing {
		transition:
			height 0.35s ease,
			opacity 0.35s ease;
	}
}
